---
title: "main"
---
``` {r, echo=F, message = FALSE, eval=TRUE}
require(yaml)
require(purrr)

chapter_filename <- "names/chapters.yml"
chapters_names <- yaml.load_file(chapter_filename)

field_names_file <- "names/fields.yml"
field_names <- yaml.load_file(field_names_file)
```

<script>
document.addEventListener("DOMContentLoaded", function() {
  var sections = document.querySelectorAll("h1, h2, h3, h4, h5, h6");
  var sectionMap = {};

  sections.forEach(function(section) {
    var anchor = section.querySelector("a[id]");
    if (anchor) {
      var id = anchor.getAttribute("id");
      var number = section.querySelector("span.header-section-number");
      if (number) {
        sectionMap[id] = number.innerText.trim();
      }
    }
  });

  var refs = document.querySelectorAll(".ref-sec");
  refs.forEach(function(ref) {
    var target = ref.getAttribute("data-target");
    if (sectionMap[target]) {
      var link = document.createElement("a");
      link.href = "#" + target;
      link.innerText = sectionMap[target];
      link.addEventListener("click", function(event) {
        event.preventDefault();
        var targetElement = document.getElementById(target);
        window.scrollTo({
          top: targetElement.offsetTop - 60,
          behavior: "smooth"
        });
        history.pushState(null, null, "#" + target);
      });
      ref.innerHTML = "";
      ref.appendChild(link);
    }
  });
});
</script>

<!-- FUNCTIONS -->

``` {r, echo = FALSE, message = FALSE}
R_path <- normalizePath(file.path(getwd(), "R"))
source(file.path(R_path, "list_to_rmarkdown.R"))
source(file.path(R_path, "process_yaml.R"))
source(file.path(R_path, "bib.R"))
```

<!-- CHUNK CONFIG -->

```{r, include=FALSE}
knitr::opts_chunk$set(comment = NA)
knitr::opts_chunk$set(dev = c("png")) # important distorted zero in last figure
```

<!-- PERSONAL DATA -->

``` {r, echo=F, results="asis", eval = T}
chapter <- "personal"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))
chapter_content <- ""

if (attr(data_list_from_yaml, "yaml_type") == "one_level") {
  chapter_content <- map(config_links, \(x) render_from_list(x, list_from_yaml = data_list_from_yaml)) |> invisible()
} else if (attr(data_list_from_yaml, "yaml_type") == "multi_level") {
  chapter_content <- map(data_list_from_yaml, \(y) {
    map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
  }) |>
    invisible()
}
chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- Chronology summary -->

``` {r, results="asis", echo=F}
chapter <- "chronology"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))
chapter_content <- ""

if (attr(data_list_from_yaml, "yaml_type") == "one_level") {
  chapter_content <- map(config_links, \(x) render_from_list(x, list_from_yaml = data_list_from_yaml)) |> invisible()
} else if (attr(data_list_from_yaml, "yaml_type") == "multi_level") {
  chapter_content <- map(data_list_from_yaml, \(y) {
    map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
  }) |>
    invisible()
}
chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- SUMMARY -->

``` {r, results="asis", echo=F}
chapter <- "summary"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))
chapter_content <- ""

if (attr(data_list_from_yaml, "yaml_type") == "one_level") {
  chapter_content <- map(config_links, \(x) render_from_list(x, list_from_yaml = data_list_from_yaml)) |> invisible()
} else if (attr(data_list_from_yaml, "yaml_type") == "multi_level") {
  chapter_content <- map(data_list_from_yaml, \(y) {
    map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
  }) |>
    invisible()
}
chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- Personal Links: -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "links"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))
chapter_content <- ""

if (attr(data_list_from_yaml, "yaml_type") == "one_level") {
  chapter_content <- map(config_links, \(x) render_from_list(x, list_from_yaml = data_list_from_yaml)) |> invisible()
} else if (attr(data_list_from_yaml, "yaml_type") == "multi_level") {
  chapter_content <- map(data_list_from_yaml, \(y) {
    map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
  }) |>
    invisible()
}
chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- DEVELOPMENT PERIOD -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "development"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- WORK EXPERIENCE -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "positions"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```


<!-- DEGREES -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "university_degrees"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- LANGUAGE PROFICIENCY -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "languages"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- articles -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "publications"

yaml_file <- process_bib_folder()

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- software -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "software"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- COURSES GIVEN -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "semester_courses"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- RESEARCH SUPERVISOR - MENTORING-->

``` {r, results="asis", echo=F, eval=T}
chapter <- "mentoring"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- GIVEN COURSES -->
``` {r, results="asis", echo=F, eval=T}
chapter <- "short_courses"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- talks -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "talks"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- CONGRESS ABSTRACTS -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "abstracts"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- COURSES TAKEN -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "learning"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- MILITARY -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "army"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- personal references -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "person_refs"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```

<!-- donate -->

``` {r, results="asis", echo=F, eval=T}
chapter <- "donate"

yaml_file <- file.path("data", paste0(chapter, ".yml"))

data_list_from_yaml <- read_yml_and_check_levels(yaml_file)

config_links <- yaml::read_yaml(file.path("config", paste0(chapter, ".yml")))

chapter_content <- map(data_list_from_yaml, \(y) {
  map(config_links, \(x) render_from_list(x, list_from_yaml = y)) |> invisible()
}) |>
  invisible()

chapter_content_concat <- chapter_content |>
  unlist() |>
  paste0(collapse = "")

if (chapter_content_concat != "") {
  section_title <- get_chapter_title(data_list_from_yaml, chapter)
  cat(paste0("<br>   \n  \n# ", section_title))
  cat(chapter_content_concat)
}
```
